!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.XScroll2=e()}(this,function(){"use strict";function t(t){return Math.pow(t-1,3)+1}var e=function(t){return"string"==typeof t?document.getElementById(t):t},n=function(t,e){for(var n in e)t[n]=e[n];return t},i=function(t,e){return function(){return e.apply(t,Array.prototype.slice.call(arguments,2))}},o=function(){return window.addEventListener?function(t,e,n){n.addEventListener(t,e,!1)}:function(t,e,n){n.attachEvent("on"+t,e)}}(),s=function(t,e,n){for(var i=0,o=t.length;o>i;i++)-1!=t[i].className.indexOf(n)&&(t[i].className=t[i].className.replace(n,""));t[e].className=t[e].className.replace(/\s$/g,"")+" "+n},u=function(){return-[1]?function(t,e){t.style.opacity=.01*e}:function(t,e){t.style.filter="alpha(opacity="+e+")"}}(),a=function(t,e){for(var n in e)t.style[n]=e[n]},r=function(t,e){return new r.main(t,e)};return r.main=function(t,i){var o=this;o.slider=e(t),o.items=o.slider.children,o.count=o.items.length,n(o.defaults,i);var s=o.defaults.direct;o.direct=["left","top"][s%2],o.step=o.defaults.step||(s%2?o.slider.offsetHeight:o.slider.offsetWidth),o.speed=Math.ceil(1e3/o.defaults.fps),o.ing=o.defaults.ing/o.speed,o.auto=o.defaults.auto,o.pager=e(o.defaults.pager),o.next=o.now=o._time=0,o._timer=null,o.init()},r.prototype={init:function(){for(var t=this.count,e=this,n=0==e.defaults.how?"position:absolute;":"",s="left"==e.direct?"float:left;":"",u="left"==e.direct?2*e.step+"px":null,r="top"==e.direct?2*e.step+"px":null,l=s+"display:none; z-index:5;"+n;t-- >0;)e.items[t].style.cssText=l;a(e.slider,{position:"absolute",left:"0",top:0,width:u,height:r}),a(e.slider.parentNode,{position:"relative",overflow:"hidden"}),a(e.items[0],{zIndex:10,display:"block"}),e.auto&&(e.timer=setTimeout(i(e,e.Next),e.defaults.auto)),e.defaults.pause&&(o("mouseout",function(){e.Continue()},e.slider),o("mouseover",function(){e.Pause()},e.slider)),e.pager&&e.Pager(),e.Run=e.run()},defaults:{how:0,direct:0,auto:0,pause:!0,event:"mouseover",past:0,fps:50,ing:500,Tween:t},fix:function(){for(var t=this,e=0,n=t.count;n>e;e++)e!=t.now&&e!=t.next&&(t.items[e].style.display="none");t.curS.style.display="block",t.nextS.style.display="block"},go:function(t){var e=this;clearTimeout(e.timer),clearTimeout(e._timer),e._time=0,e.curS=e.items[e.now],void 0!=t?e.next=t:e.next=e.now+1,e.next>=e.count&&(e.next=0)||e.next<0&&(e.next=e.count-1),e.now!=e.next&&(e.nextS=e.items[e.next],e.fix(),e.Run(),e.pager&&s(e.pages,e.next,"on"),e.now=e.next)},run:function(t,e){var n=this,o=[function(){function t(){100>e?(u(n.nextS,e+=4),n._timer=setTimeout(t,n.speed)):(u(n.nextS,100),n.curS.style.display="none",e=0,n.auto&&(n.timer=setTimeout(i(n,n.Next),n.defaults.auto)))}n.curS.style.zIndex="5",n.nextS.style.zIndex="10";var e=0,n=n;t()},function(){n.next<n.now?(n._end=0,n._begin=-n.step):(n._begin=0,n._end=-n.step),n._c=n._end-n._begin,n.Move()}];return o[n.defaults.how]},Move:function(){var t=this;clearTimeout(t.timer),t._c&&t._time++<=t.ing?(t.Moving(Math.floor(t._begin+t.defaults.Tween(t._time/t.ing)*t._c)),t._timer=setTimeout(i(t,t.Move),t.speed)):(t.Moving(t._end),t._time=0,t.auto&&(t.timer=setTimeout(i(t,t.Next),t.defaults.auto)))},Moving:function(t){this.slider.style[this.direct]=t+"px"},Prev:function(){this.go(--this.next)},Next:function(){this.go(++this.next)},Pause:function(){clearTimeout(this.timer),this.auto=!1},Continue:function(){clearTimeout(this.timer),this.auto=!0,this.timer=setTimeout(i(this,this.Next),this.defaults.auto)},Pager:function(){var t=this;t.pages=t.pager.children;for(var e,n=(t.pager,t.defaults.event),i=t.pages.length,s=0;i>s;s++)!function(i){o(n,function(){t.Pause(),e=setTimeout(function(){t.go(i)},t.defaults.past)},t.pages[i]),o("mouseout",function(){t.defaults.auto&&(t.auto=!0),clearTimeout(e)},t.pages[i])}(s)}},r.main.prototype=r.prototype,r});